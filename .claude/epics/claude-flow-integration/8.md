---
name: Gitignore & State Cleanup Configuration
status: open
created: 2025-08-29T22:51:03Z
updated: 2025-08-29T23:09:46Z
github: https://github.com/microservice-tech/ccpm/issues/8
depends_on: []
parallel: false
conflicts_with: []
---

# Task: Gitignore & State Cleanup Configuration

## Description
Configure comprehensive .gitignore rules to prevent any temporary workspace artifacts from being committed to the repository. Since Claude Flow will be installed locally per issue in isolated `/tmp/` workspaces, the main concern is ensuring no accidental commits of temporary files if developers run Claude Flow manually during testing.

## Acceptance Criteria
- [ ] .gitignore updated to exclude any Claude Flow artifacts
- [ ] .gitignore excludes `/tmp/claude-flow-issues/` pattern
- [ ] Workspace cleanup integrated into orchestrator workflow
- [ ] Verification that isolated workspaces are not in repo path
- [ ] Documentation for developers about workspace isolation
- [ ] Guidelines for manual Claude Flow testing

## Technical Details
### Gitignore Patterns to Add
```gitignore
# Claude Flow State and Memory
.swarm/
*.swarm
.swarm-backup/
swarm_memory.db
swarm_*.json

# Claude Flow Generated Files
.claude-flow/
claude-flow-cache/
.hive-mind/
hive-mind-*.log

# Agent State Files
.agent-state/
agent-memory/
*.agent-state

# Temporary Claude Flow Files
.cf-temp/
.cf-logs/
*.cf-session

# Local Claude Flow Configuration
claude-flow.local.json
.claude-flow-config/
```

### Workspace Isolation Strategy
1. All Claude Flow operations in `/tmp/claude-flow-issues/`
2. Each issue gets unique workspace: `issue-{id}/`
3. Complete workspace removal after PR creation
4. No Claude Flow installation in main repository
5. Service handles all cleanup automatically

### Developer Testing Guidelines
If developers need to test Claude Flow manually:
```bash
# Always use a temporary directory
mkdir -p /tmp/manual-claude-flow-test
cd /tmp/manual-claude-flow-test
# Install and test here, not in the repo
```

### Workspace Management Procedures
- **Pre-Issue**: Create fresh workspace in `/tmp/`
- **During Issue**: All operations contained in workspace
- **Post-Issue**: Complete workspace deletion
- **Error Recovery**: Cleanup orphaned workspaces on service restart

## Dependencies
- [ ] Task 18: Claude Flow Installation (need to know file structure)
- [ ] Existing .gitignore file in repository

## Effort Estimate
- Size: S
- Hours: 6
- Parallel: false (depends on Claude Flow installation)

## Definition of Done
- [ ] .gitignore updated with comprehensive patterns
- [ ] Cleanup script created and tested
- [ ] Automated cleanup integrated into service workflow
- [ ] No Claude Flow files show in `git status`
- [ ] Documentation for state management completed
- [ ] Cleanup procedures tested with multiple issue cycles
